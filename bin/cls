#!/usr/bin/env zsh
# Claude Code wrapper - secure mode (prompts for approval)

if [ $# -eq 0 ]; then
    # Interactive: Opus
    exec claude --model opus
else
    # Non-interactive: Sonnet, no session persistence
    # ANTHROPIC_API_KEY="" workaround for Claude Code bug in query mode
    ANTHROPIC_API_KEY="" exec claude --print --output-format=text --no-session-persistence --model sonnet "$@"
fi
